{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4f9b54433d37ccb464b6","webpack:///./index.js","webpack:///./lib/react-webcam.js","webpack:///external \"React\""],"names":[],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Webcam\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"Webcam\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4f9b54433d37ccb464b6\n **/","module.exports = require('./lib/react-webcam');\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","var React = require('react');\n\nfunction hasGetUserMedia() {\n  return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia || navigator.msGetUserMedia);\n}\n\nmodule.exports = React.createClass({\n  displayName: 'Webcam',\n\n  getDefaultProps: function() {\n    return {\n      audio: true,\n      height: 480,\n      width: 640\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      on: false\n    };\n  },\n\n  statics: {\n    mountedInstances: [],\n    userMediaRequested: false,\n  },\n\n  componentWillMount: function() {\n    Webcam.mountedInstances.push(this);\n  },\n\n  componentDidMount: function() {\n    self = this;\n\n    if (!hasGetUserMedia()) return;\n    if (Webcam.userMediaRequested) return;\n\n    navigator.getUserMedia = navigator.getUserMedia ||\n                          navigator.webkitGetUserMedia ||\n                          navigator.mozGetUserMedia ||\n                          navigator.msGetUserMedia;\n\n    if (this.props.audioSource && this.props.videoSource) {\n      sourceSelected(this.props.audioSource, this.props.videoSource);\n    } else {\n      MediaStreamTrack.getSources(function(sourceInfos) {\n        var audioSource = null;\n        var videoSource = null;\n\n        sourceInfos.forEach(function(sourceInfo) {\n          if (sourceInfo.kind === 'audio') {\n            //console.log(sourceInfo.id, sourceInfo.label || 'microphone');\n\n            audioSource = sourceInfo.id;\n          } else if (sourceInfo.kind === 'video') {\n            //console.log(sourceInfo.id, sourceInfo.label || 'camera');\n\n            videoSource = sourceInfo.id;\n          } else {\n            //console.log('Some other kind of source: ', sourceInfo);\n          }\n        });\n\n        sourceSelected(audioSource, videoSource);\n      });\n    }\n\n    function sourceSelected(audioSource, videoSource) {\n      var constraints = {\n        video: {\n          optional: [{sourceId: videoSource}]\n        }\n      };\n\n      if (self.props.audio)\n        constraints.audio = {\n          optional: [{sourceId: audioSource}]\n        }\n\n      navigator.getUserMedia(constraints, function(stream) {\n        Webcam.mountedInstances.forEach(function(instance) {\n          instance._successCallback(stream);\n        });\n      }, function(e) {\n        Webcam.mountedInstances.forEach(function(instance) {\n          instance._errorCallback(e);\n        });\n      });\n    }\n\n    Webcam.userMediaRequested = true;\n  },\n\n  _successCallback: function(stream) {\n    var video = this.refs.video.getDOMNode();\n    this.setState({on:true});\n    video.src = window.URL.createObjectURL(stream);\n  },\n\n  _errorCallback:function(e) {\n    var video = this.refs.video.getDOMNode();\n    video.src = self.props.fallbackURL;\n  },\n\n  componentWillUnmount: function() {\n    var url = video.src;\n    var video = this.refs.video.getDOMNode();\n    window.URL.revokeObjectUrl(url);\n  },\n\n  getScreenshot: function() {\n    if (!this.state.on) return;\n\n    var video = this.refs.video.getDOMNode();\n\n    var canvas = document.createElement('canvas');\n    canvas.height = video.clientHeight;\n    canvas.width = video.clientWidth;\n\n    var ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n    return canvas.toDataURL('image/webp');\n  },\n\n  render: function () {\n    return (\n      <video autoPlay width={this.props.width} height={this.props.height} ref='video'></video>\n    );\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/react-webcam.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"./dist/react-webcam.js"}